{{!< default}}

{{#post}}

<article class="gh-article {{post_class}} mt-28 px-4 pb-4">

  <header class="gh-header gh-canvas flex flex-col gap-4 mb-8">
    <div>
      <h1 class="text-4xl font-bold bg-clip-text text-gradient-ps mb-2 max-w-3xl mx-auto">
        {{title}}
      </h1>
      
      <div>{{#foreach tags}}{{> "tag-badge"}}{{/foreach}}</div>

      <div class="max-w-3xl mx-auto">

        {{#if custom_excerpt}}
          <p class="gh-excerpt font-bold text-justify">{{custom_excerpt}}</p>
        {{/if}}

      </div>
    </div>

    {{#if feature_image}}
    <figure class="gh-feature-image">
      <picture>
        <source 
          srcset="
          {{img_url feature_image size="xxs" format="avif"}} 30w,
          {{img_url feature_image size="xs" format="avif"}} 100w,
          {{img_url feature_image size="s" format="avif"}} 300w,
          {{img_url feature_image size="m" format="avif"}} 600w,
          {{img_url feature_image size="l" format="avif"}} 1200w,
          {{img_url feature_image size="xl" format="avif"}} 2000w"
          sizes="(min-width: 1200px) 1200px, 90vw" 
          type="image/avif"
        >
        <source 
          srcset="
          {{img_url feature_image size="xxs" format="webp"}} 30w,
          {{img_url feature_image size="xs" format="webp"}} 100w,
          {{img_url feature_image size="s" format="webp"}} 300w,
          {{img_url feature_image size="m" format="webp"}} 600w,
          {{img_url feature_image size="l" format="webp"}} 1200w,
          {{img_url feature_image size="xl" format="webp"}} 2000w"
          sizes="(min-width: 1200px) 1200px, 90vw" 
          type="image/webp"
        >
        <img
          srcset="
          {{img_url feature_image size="xxs"}} 30w,
          {{img_url feature_image size="xs"}} 100w,
          {{img_url feature_image size="s"}} 300w,
          {{img_url feature_image size="m"}} 600w,
          {{img_url feature_image size="l"}} 1200w,
          {{img_url feature_image size="xl"}} 2000w"
          sizes="(min-width: 1200px) 1200px, 90vw" 
          src="{{img_url feature_image size="l"}}"
          alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
        >
      </picture>
      {{#if feature_image_caption}}
        <figcaption>{{feature_image_caption}}</figcaption>
      {{/if}}
    </figure>
    {{/if}}
    
    <div class="flex items-center max-w-3xl mx-auto w-full gap-2">
      {{#if primary_author.profile_image}}
        <div class="avatar">
          <div class="w-16 rounded-full">
            <img src="{{primary_author.profile_image}}" />
          </div>
        </div>
      {{/if}}
      <div class="text-left uppercase text-xs">
        <p>Par {{#foreach authors}}<a href="{{url}}" class="gh-author-link link">{{name}}</a>{{#unless @last}}, {{/unless}}{{/foreach}}</p>
        <p class="gh-post-authors">{{date format="D MMM YYYY"}} <span class="bull">&bull;</span> {{reading_time}}</p>
      </div>
    </div>

  </header>

  <div class="flex justify-center">
    <div class="gh-content gh-canvas prose text-justify prose-post-content">
      {{content}}
    </div>
  </div>

  <footer class="gh-footer gh-canvas">

    {{#if comments}}
      <section class="gh-post-comments">
        {{comments}}
      </section>
    {{/if}}

  </footer>

</article>

<div class="divider"></div>

<aside class="gh-readmore mb-12 mt-4">
  <h3 class="text-center font-bold text-2xl mb-4">Articles qui pourraient aussi vous int√©resser</h3>
  <div class="grid grid-cols-1 sm:grid-cols-2 max-w-3xl mx-auto gap-8 md:gap-16 px-8">
    <div class="gh-readmore-next">
      {{#next_post in="primary_tag"}}
        {{> "card-more"}}
      {{/next_post}}
    </div>
    <div class="gh-readmore-prev">
      {{#prev_post in="primary_tag"}}
        {{> "card-more"}}
      {{/prev_post}}
    </div>
  </div>
</aside>

{{/post}}
